<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="ë¬¼ê°€ìƒìŠ¹ìœ¼ë¡œ ì¤„ì–´ë“œëŠ” ëˆì˜ ê°€ì¹˜ ê³„ì‚°ê¸°. ë¹„íŠ¸ì½”ì¸, ì£¼ì‹, ë¶€ë™ì‚° íˆ¬ì ìˆ˜ìµ ì‹¤ì‹œê°„ ë¹„êµ">
  <meta name="keywords" content="ë¬¼ê°€ìƒìŠ¹, ì¸í”Œë ˆì´ì…˜, íˆ¬ììˆ˜ìµ, ë¹„íŠ¸ì½”ì¸, ì£¼ì‹, ë¶€ë™ì‚°, ê³„ì‚°ê¸°">
  <title>ë‚´ ëˆì˜ ì‹¤ì œ ê°€ì¹˜ vs íˆ¬ì ìˆ˜ìµ</title>
  <style>
    /* ====== ê¸°ì¡´ ë””ìì¸ ìœ ì§€ + í•„ìš”í•œ ìµœì†Œ ìŠ¤íƒ€ì¼ ì¶”ê°€ ====== */
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
      min-height:100vh; padding:10px; transition:background .3s ease;
    }
    body.dark-mode { background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%); }
    .container {
      max-width:1600px; margin:0 auto; background:#fff; border-radius:20px; padding:20px;
      box-shadow:0 20px 60px rgba(0,0,0,.3); transition:background .3s ease, color .3s ease;
    }
    body.dark-mode .container { background:#2d2d44; color:#f0f0f0; }
    @media (min-width:768px){ body{padding:20px} .container{padding:30px} }
    h1 { color:#333; text-align:center; margin-bottom:10px; font-size:1.5em; word-break:keep-all; transition:color .3s ease; }
    body.dark-mode h1 { color:#f0f0f0; }
    @media (min-width:768px){ h1{font-size:2.2em} }
    .subtitle { text-align:center; color:#666; margin-bottom:20px; font-size:.9em; word-break:keep-all; padding:0 10px; transition:color .3s ease; }
    body.dark-mode .subtitle { color:#b0b0b0; }
    @media (min-width:768px){ .subtitle{margin-bottom:30px; font-size:1.1em} }

    .live-badge {
      display:inline-flex; align-items:center; gap:8px; background:#fff3cd; padding:6px 15px; border-radius:20px; font-size:.9em; border:2px solid #ffc107;
    }
    @media (min-width:768px){ .live-badge{padding:8px 20px; font-size:1em} }

    .input-section {
      background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);
      padding:15px; border-radius:15px; margin-bottom:20px; transition:background .3s ease;
    }
    body.dark-mode .input-section { background:linear-gradient(135deg,#3a3a52 0%,#2d2d44 100%); }
    @media (min-width:768px){ .input-section{padding:25px; margin-bottom:30px} }

    .input-grid { display:grid; grid-template-columns:1fr; gap:15px; }
    @media (min-width:768px){ .input-grid{grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px} }
    .input-group{ margin-bottom:15px; width:100% }
    @media (min-width:768px){ .input-group{margin-bottom:20px} }
    label{ display:block; font-size:1em; font-weight:bold; color:#333; margin-bottom:8px; word-break:keep-all; transition:color .3s ease; }
    body.dark-mode label{ color:#f0f0f0; }
    @media (min-width:768px){ label{font-size:1.1em; margin-bottom:10px} }

    input[type="number"], input[type="text"]{
      width:100%; max-width:100%; padding:12px; font-size:1.1em; border:3px solid #667eea; border-radius:10px; text-align:center; font-weight:bold; background:#fff; color:#333; transition:background .3s ease, color .3s ease, border-color .3s ease;
    }
    body.dark-mode input[type="number"], body.dark-mode input[type="text"]{ background:#3a3a52; color:#f0f0f0; border-color:#9b8ff7; }
    @media (min-width:768px){ input[type="number"], input[type="text"]{ padding:15px; font-size:1.3em } }

    input[type="range"]{ width:100%; height:8px; border-radius:5px; background:#ddd; outline:none; -webkit-appearance:none; }
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; width:20px; height:20px; border-radius:50%; background:#667eea; cursor:pointer; }
    @media (min-width:768px){ input[type="range"]::-webkit-slider-thumb{ width:25px; height:25px } }
    input[type="range"]::-moz-range-thumb{ width:20px; height:20px; border-radius:50%; background:#667eea; cursor:pointer; border:none }
    @media (min-width:768px){ input[type="range"]::-moz-range-thumb{ width:25px; height:25px } }

    .time-display{ text-align:center; font-size:1.1em; color:#667eea; font-weight:bold; margin-top:8px; word-break:keep-all; transition:color .3s ease; }
    body.dark-mode .time-display{ color:#9b8ff7; }
    @media (min-width:768px){ .time-display{ font-size:1.3em; margin-top:10px } }

    .comparison-grid{ display:grid; grid-template-columns:1fr; gap:15px; margin-bottom:20px }
    @media (min-width:480px){ .comparison-grid{ grid-template-columns:repeat(2,1fr) } }
    @media (min-width:900px){ .comparison-grid{ grid-template-columns:repeat(3,1fr) } }
    @media (min-width:1200px){ .comparison-grid{ grid-template-columns:repeat(4,1fr); gap:20px } }

    .money-card{
      background:#fff; padding:15px; border-radius:15px; box-shadow:0 5px 20px rgba(0,0,0,.1);
      text-align:center; transition:transform .3s; border:3px solid; min-width:0; overflow:hidden; position:relative;
    }
    body.dark-mode .money-card{ background:#3a3a52; }
    @media (min-width:768px){ .money-card{ padding:20px } }
    .money-card:hover{ transform:translateY(-5px) }
    .money-card.na{ opacity:.55; filter:grayscale(100%) }

    .data-source-badge{
      position:absolute; top:5px; right:5px; background:rgba(0,0,0,.1); padding:4px 10px; border-radius:12px; font-size:.85em; color:#666; font-weight:600;
    }
    body.dark-mode .data-source-badge{ background:rgba(255,255,255,.2); color:#ddd; }

    .card-title{ font-size:1em; font-weight:bold; margin-bottom:10px; color:#333; word-break:keep-all; transition:color .3s ease; }
    body.dark-mode .card-title{ color:#f0f0f0 }
    @media (min-width:768px){ .card-title{ font-size:1.1em; margin-bottom:12px } }

    .card-value{ font-size:1.8em; font-weight:bold; margin:10px 0; word-break:break-word; overflow-wrap:break-word; }
    @media (min-width:768px){ .card-value{ font-size:2.2em; margin:12px 0 } }
    .card-change{ font-size:1.1em; font-weight:bold; margin-top:8px }
    @media (min-width:768px){ .card-change{ font-size:1.2em } }
    .card-detail{ margin-top:8px; font-size:.85em; color:#666; word-break:keep-all; transition:color .3s ease; }
    body.dark-mode .card-detail{ color:#b0b0b0 }
    @media (min-width:768px){ .card-detail{ margin-top:10px; font-size:.9em } }
    .positive{ color:#4caf50 } .negative{ color:#f44336 }

    .loading{ text-align:center; padding:30px 15px; font-size:1.1em; color:#667eea }
    @media (min-width:768px){ .loading{ padding:50px; font-size:1.3em } }

    .info-box{
      background:#fff3cd; padding:15px; border-radius:10px; margin-top:20px; border-left:5px solid #ffc107; transition:background .3s ease;
    }
    body.dark-mode .info-box{ background:#3a3a52; border-left-color:#f39c12 }
    @media (min-width:768px){ .info-box{ padding:20px } }
    .info-box p{ color:#856404; line-height:1.6; font-size:.9em; word-break:keep-all; transition:color .3s ease; }
    body.dark-mode .info-box p{ color:#f0b050 }
    @media (min-width:768px){ .info-box p{ font-size:1em } }

    .realtime-counter{
      text-align:center; margin-top:20px; padding:20px 15px; background:linear-gradient(135deg,#ff6b6b 0%,#ee5a6f 100%);
      border-radius:15px; color:#fff; box-shadow:0 5px 20px rgba(255,107,107,.4);
    }
    @media (min-width:768px){ .realtime-counter{ padding:25px } }
    .counter-header{ font-size:1.1em; margin-bottom:12px; display:flex; align-items:center; justify-content:center; gap:8px; word-break:keep-all; flex-wrap:wrap; }
    @media (min-width:768px){ .counter-header{ font-size:1.3em; margin-bottom:15px; gap:10px } }
    .countdown-animation{ display:inline-block; animation:countdownPulse 1s infinite; flex-shrink:0 }
    @keyframes countdownPulse{ 0%,100%{ transform:scale(1); opacity:1 } 50%{ transform:scale(1.1); opacity:.8 } }
    .counter-value{ font-size:2em; font-weight:bold; margin:12px 0; text-shadow:2px 2px 4px rgba(0,0,0,.3); animation:valueGlow 2s infinite; word-break:break-word; }
    @media (min-width:768px){ .counter-value{ font-size:2.5em; margin:15px 0 } }
    @keyframes valueGlow{ 0%,100%{ text-shadow:2px 2px 4px rgba(0,0,0,.3) } 50%{ text-shadow:0 0 20px rgba(255,255,255,.8), 2px 2px 4px rgba(0,0,0,.3) } }
    .counter-details{ display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:15px }
    @media (min-width:768px){ .counter-details{ grid-template-columns:repeat(4,1fr); gap:15px; margin-top:20px } }
    .counter-detail-item{ background:rgba(255,255,255,.2); padding:10px; border-radius:10px; backdrop-filter:blur(10px); min-width:0 }
    @media (min-width:768px){ .counter-detail-item{ padding:12px } }
    .counter-detail-label{ font-size:.85em; opacity:.9; margin-bottom:5px; word-break:keep-all }
    @media (min-width:768px){ .counter-detail-label{ font-size:.9em } }
    .counter-detail-value{ font-size:1.1em; font-weight:bold; word-break:break-word }
    @media (min-width:768px){ .counter-detail-value{ font-size:1.3em } }

    button{
      background:#667eea; color:#fff; border:none; padding:10px 15px; border-radius:8px; cursor:pointer; font-size:.9em; font-weight:bold; transition:all .3s; white-space:nowrap;
    }
    @media (min-width:768px){ button{ padding:10px 20px; font-size:1em } }
    button:hover{ background:#5568d3; transform:translateY(-2px) }
    button:active{ transform:translateY(0) }

    .stock-input-group{ display:flex; gap:8px; align-items:flex-end; width:100% }
    @media (min-width:768px){ .stock-input-group{ gap:10px } }
    .stock-input-group input{ flex:1; min-width:0 }

    /* FAQ */
    .faq-section{ background:#fff; border-radius:15px; margin-top:20px; border:2px solid #e0e0e0; overflow:hidden; transition:background .3s ease, border-color .3s ease; }
    body.dark-mode .faq-section{ background:#3a3a52; border-color:#555 }
    .faq-header{ background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff; padding:15px 20px; cursor:pointer; display:flex; justify-content:space-between; align-items:center; transition:all .3s; user-select:none }
    .faq-header:hover{ background:linear-gradient(135deg,#5568d3 0%,#6a3f8f 100%) }
    .faq-arrow{ font-size:1.2em; transition:transform .3s }
    .faq-arrow.open{ transform:rotate(180deg) }
    .faq-content{ max-height:0; overflow:hidden; transition:max-height .5s ease-out }
    .faq-content.open{ max-height:2000px; transition:max-height .5s ease-in }
    .faq-item{ padding:20px; border-bottom:1px solid #f0f0f0; transition:border-color .3s ease }
    body.dark-mode .faq-item{ border-bottom-color:#555 }
    .faq-item:last-child{ border-bottom:none }
    .faq-question{ font-size:1.1em; font-weight:bold; color:#333; margin-bottom:12px; word-break:keep-all; transition:color .3s ease }
    body.dark-mode .faq-question{ color:#f0f0f0 }
    @media (min-width:768px){ .faq-question{ font-size:1.15em } }
    .faq-answer{ color:#555; line-height:1.7; font-size:.95em; word-break:keep-all; transition:color .3s ease }
    body.dark-mode .faq-answer{ color:#b0b0b0 }
    @media (min-width:768px){ .faq-answer{ font-size:1em } }

    /* ëª¨ë‹¬/ì•Œë¦¼ */
    .modal-overlay{ position:fixed; inset:0; background:rgba(0,0,0,.7); display:flex; align-items:center; justify-content:center; z-index:2000; animation:fadeIn .3s ease; padding:20px }
    @keyframes fadeIn{ from{opacity:0} to{opacity:1} }
    .modal-content{
      background:#fff; border-radius:16px; padding:30px; max-width:600px; width:100%; max-height:80vh; overflow-y:auto; box-shadow:0 10px 40px rgba(0,0,0,.3);
      animation:slideUp .3s ease; transition:background .3s ease, color .3s ease;
    }
    body.dark-mode .modal-content{ background:#2d2d44; color:#f0f0f0 }
    @keyframes slideUp{ from{ transform:translateY(50px); opacity:0 } to{ transform:translateY(0); opacity:1 } }
    .modal-header{ font-size:22px; font-weight:bold; margin-bottom:20px; text-align:center; color:#c92a2a }
    .modal-body{ font-size:14px; line-height:1.8; color:#555; margin-bottom:20px; transition:color .3s ease }
    body.dark-mode .modal-body{ color:#b0b0b0 }
    .modal-body strong{ color:#c92a2a } body.dark-mode .modal-body strong{ color:#ff6b6b }
    .modal-body p{ margin-bottom:15px }
    .modal-footer{ display:flex; gap:10px; margin-top:20px }
    .modal-btn{ flex:1; padding:12px 20px; border:none; border-radius:8px; font-size:14px; font-weight:600; cursor:pointer; transition:all .2s }
    .modal-btn-primary{ background:#667eea; color:#fff } .modal-btn-primary:hover{ background:#5568d3 }
    .modal-btn-secondary{ background:#e0e0e0; color:#333 } body.dark-mode .modal-btn-secondary{ background:#555; color:#f0f0f0 }
    .modal-btn-secondary:hover{ background:#d0d0d0 } body.dark-mode .modal-btn-secondary:hover{ background:#666 }

    /* í”Œë¡œíŒ… ë²„íŠ¼ë“¤ */
    .floating-help, .dark-mode-toggle, .sources-toggle{
      position:fixed; right:30px; width:60px; height:60px; border:none; border-radius:50%; color:#fff; cursor:pointer;
      box-shadow:0 4px 12px rgba(0,0,0,.3); transition:all .3s ease; z-index:1500; display:flex; align-items:center; justify-content:center; font-size:28px;
    }
    .floating-help{ bottom:30px; background:#c92a2a; font-size:32px }
    .floating-help::before{ content:"âš ï¸" }
    .dark-mode-toggle{ bottom:100px; background:#667eea }
    .sources-toggle{ bottom:170px; background:#10b981 } /* ìƒˆë¡œ ì¶”ê°€: ë°ì´í„° ì¶œì²˜ ë³´ê¸° */
    .floating-help:hover, .dark-mode-toggle:hover, .sources-toggle:hover{ transform:scale(1.1) }
    .floating-help:active, .dark-mode-toggle:active, .sources-toggle:active{ transform:scale(.95) }
    @media (max-width:600px){
      .floating-help, .dark-mode-toggle, .sources-toggle{ width:50px; height:50px; right:20px }
      .floating-help{ bottom:20px; font-size:28px }
      .dark-mode-toggle{ bottom:80px; font-size:24px }
      .sources-toggle{ bottom:140px; font-size:24px }
      .modal-content{ padding:20px }
      .modal-header{ font-size:18px } .modal-body{ font-size:13px }
    }

    .notification{
      position:fixed; top:20px; right:20px; background:#4caf50; color:#fff; padding:15px 20px; border-radius:8px; box-shadow:0 4px 12px rgba(0,0,0,.2);
      animation:slideInNotif .3s ease; z-index:3000; max-width:300px;
    }
    .notification.error{ background:#f44336 }
    @keyframes slideInNotif{ from{ transform:translateX(400px); opacity:0 } to{ transform:translateX(0); opacity:1 } }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ’° ë‚´ ëˆì˜ ì‹¤ì œ ê°€ì¹˜ vs íˆ¬ì ìˆ˜ìµ</h1>
    <p class="subtitle">ë¬¼ê°€ìƒìŠ¹ìœ¼ë¡œ ì¤„ì–´ë“œëŠ” ëˆì˜ ê°€ì¹˜ì™€ íˆ¬ìí–ˆë‹¤ë©´ì˜ ìˆ˜ìµì„ ë¹„êµ (ìƒëŒ€ê¸°ê°„ ê¸°ì¤€)</p>

    <div style="text-align:center; margin-bottom:20px;">
      <div class="live-badge"><span style="color:#856404; font-weight:bold;">âš ï¸ ì—­ì‚¬ì  í‰ê· ê°’ + ê³µì‹ í†µê³„ ê¸°ë°˜ (ì°¸ê³ ìš©)</span></div>
    </div>

    <!-- ì…ë ¥ ì˜ì—­ -->
    <div class="input-section">
      <div class="input-grid">
        <div class="input-group">
          <label>ğŸ’µ ê¸ˆì•¡ ì…ë ¥</label>
          <input type="number" id="amount" value="10000" min="1" max="1000000000" step="1000" aria-label="ê¸ˆì•¡ ì…ë ¥" aria-describedby="amountDisplay">
          <div style="text-align:center; margin-top:8px; color:#666; font-size:.9em;" id="amountDisplay">1ì–µì›</div>
        </div>

        <div class="input-group">
          <label>â° ì–¸ì œì™€ ë¹„êµí• ê¹Œìš”? (ì§€ê¸ˆìœ¼ë¡œë¶€í„°)</label>
          <!-- 300ê°œì›” = 25ë…„ -->
          <input type="range" id="months" min="1" max="300" value="12" step="1" aria-label="ê¸°ê°„ ì„ íƒ" aria-valuetext="12ê°œì›”">
          <div class="time-display" id="timeDisplay">12ê°œì›” ì „ (1ë…„)</div>
        </div>

        <div class="input-group">
          <label>ğŸ“ˆ ë¯¸êµ­ ì£¼ì‹ í‹°ì»¤ (ì„ íƒ)</label>
          <div class="stock-input-group">
            <input type="text" id="stockTicker" placeholder="AAPL, TSLA ë“±" style="text-transform:uppercase;" aria-label="ì£¼ì‹ í‹°ì»¤ ì…ë ¥">
            <button onclick="addStock()">ì¶”ê°€</button>
          </div>
        </div>
      </div>
    </div>

    <div id="resultDiv">
      <div class="comparison-grid" id="comparisonGrid"></div>

      <div class="realtime-counter">
        <div class="counter-header">
          <span class="countdown-animation">â±ï¸</span>
          <span style="font-weight:bold;">ì§€ê¸ˆ ì´ ìˆœê°„ì—ë„ ê³„ì† ì¤„ì–´ë“¤ê³  ìˆìŠµë‹ˆë‹¤!</span>
          <span class="countdown-animation">ğŸ“‰</span>
        </div>
        <div style="font-size:.9em; opacity:.9; margin-bottom:10px;">í˜ì´ì§€ë¥¼ ì¼  í›„ ë¬¼ê°€ìƒìŠ¹ìœ¼ë¡œ ì†ì‹¤ëœ ê¸ˆì•¡</div>
        <div class="counter-value" id="realtimeCounter">0ì›</div>
        <div class="counter-details">
          <div class="counter-detail-item"><div class="counter-detail-label">ì´ˆë‹¹ ì†ì‹¤</div><div class="counter-detail-value" id="perSecond">0ì›</div></div>
          <div class="counter-detail-item"><div class="counter-detail-label">ë¶„ë‹¹ ì†ì‹¤</div><div class="counter-detail-value" id="perMinute">0ì›</div></div>
          <div class="counter-detail-item"><div class="counter-detail-label">ì‹œê°„ë‹¹ ì†ì‹¤</div><div class="counter-detail-value" id="perHour">0ì›</div></div>
          <div class="counter-detail-item"><div class="counter-detail-label">í•˜ë£¨ ì†ì‹¤</div><div class="counter-detail-value" id="perDay">0ì›</div></div>
        </div>
      </div>

      <div class="info-box">
        <p><strong>ğŸ’¡ ì´ ë°ì´í„°ì˜ í•´ì„:</strong></p>
        <p id="explanationText"></p>
        <p style="margin-top:10px; font-size:.85em;"><strong>ğŸ“Š ë°ì´í„°:</strong> ë¬¼ê°€(í•œêµ­ ê¸°ì¤€ CPI ì¶”ì •), ì˜ˆê¸ˆ(ê¸ˆê°ì› í‰ê· ), ê¸ˆ/ì£¼ì‹/ì•”í˜¸í™”í(ì—­ì‚¬ì  í‰ê· ), ë¶€ë™ì‚°(KB í‰ê· ). ê° ì¹´ë“œì— ì¶œì²˜/ì •í™•ë„ í‘œê¸°.</p>
      </div>

      <!-- FAQ -->
      <div class="faq-section">
        <div class="faq-header" onclick="toggleFAQ()">
          <span style="font-size:1.2em; font-weight:bold;">â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸</span>
          <span class="faq-arrow" id="faqArrow">â–¼</span>
        </div>
        <div class="faq-content" id="faqContent">
          <div class="faq-item">
            <div class="faq-question">ğŸ’¸ ë¬¼ê°€ìƒìŠ¹ì— ì§‘ê°’ ìƒìŠ¹ì´ ë°˜ì˜ë˜ë‚˜ìš”?</div>
            <div class="faq-answer">
              <strong>ì•„ë‹ˆìš”, ë³„ë„ë¡œ ê³„ì‚°ë©ë‹ˆë‹¤!</strong><br><br>
              <strong style="color:#ff6b6b;">ğŸ’¸ ë¬¼ê°€ìƒìŠ¹</strong> = ì¼ìƒ ì†Œë¹„ì¬ ê°€ê²© ìƒìŠ¹ (CPI)<br>
              â†’ ì§‘ê°’ì€ í¬í•¨ ì•ˆ ë¨<br><br>
              <strong style="color:#a29bfe;">ğŸ  ë¶€ë™ì‚°</strong> = ì£¼íƒ ìì‚° ê°€ì¹˜ ìƒìŠ¹ (KB ì§€ìˆ˜ í‰ê· )<br><br>
              <div style="background:#f8f9fa; padding:12px; border-radius:8px; margin-top:10px;">
                <strong>ì˜ˆì‹œ:</strong> 1ë…„ ì „ 1ì–µì›ì„<br>
                â€¢ ğŸ’¸ í˜„ê¸ˆ ë³´ê´€ â†’ êµ¬ë§¤ë ¥ <strong style="color:#ff6b6b;">ê°ì†Œ</strong><br>
                â€¢ ğŸ  ì•„íŒŒíŠ¸ â†’ <strong style="color:#a29bfe;">ìƒìŠ¹</strong> ê°€ëŠ¥ (í‰ê·  ê¸°ì¤€)
              </div>
            </div>
          </div>
          <div class="faq-item">
            <div class="faq-question">ğŸ“Š ë°ì´í„°ëŠ” ì–´ë””ì„œ?</div>
            <div class="faq-answer">
              â€¢ <strong>ë¬¼ê°€ìƒìŠ¹ë¥ :</strong> í•œêµ­ CPI ì¶”ì •(ì—°í‰ê· )<br>
              â€¢ <strong>ì •ê¸°ì˜ˆê¸ˆ:</strong> ê¸ˆê°ì› í‰ê·  ê¸ˆë¦¬<br>
              â€¢ <strong>ê¸ˆ/ì£¼ì‹/ë¶€ë™ì‚°/ì•”í˜¸í™”í:</strong> ì—­ì‚¬ì  í‰ê·  ìˆ˜ìµë¥ <br>
              â€¢ <strong>ì‹¤ì‹œê°„ API ì•„ë‹˜</strong> (í•˜ë“œì½”ë”©/ìºì‹œ)
            </div>
          </div>
          <div class="faq-item">
            <div class="faq-question">â° ì‹¤ì‹œê°„ ì¹´ìš´í„° ì •í™•ì„±?</div>
            <div class="faq-answer">ì´ˆë‹¹ ì†ì‹¤ì•¡ì€ ë¬¼ê°€ìƒìŠ¹ë¥ ì„ ê¸°ì¤€ìœ¼ë¡œ í•œ ì´ë¡ ì  ì‹œê°í™”ì…ë‹ˆë‹¤.</div>
          </div>
          <div class="faq-item">
            <div class="faq-question">âš ï¸ ë²•ì  ê³ ì§€</div>
            <div class="faq-answer">
              <strong>êµìœ¡ ë° ì°¸ê³  ëª©ì </strong>ì´ë©°, <strong>íˆ¬ì ê¶Œìœ  ì•„ë‹˜</strong>. ì‹¤ì œ ìˆ˜ìµë¥ ì€ ì‹œê¸°Â·í¬íŠ¸í´ë¦¬ì˜¤ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- í”Œë¡œíŒ… ë²„íŠ¼ë“¤ -->
  <button class="sources-toggle" id="sourcesToggle" title="ë°ì´í„° ì¶œì²˜ ë³´ê¸°">ğŸ“Š</button>
  <button class="dark-mode-toggle" id="darkModeToggle" title="ë‹¤í¬ëª¨ë“œ">ğŸŒ™</button>
  <button class="floating-help" id="floatingHelp" title="ë©´ì±…ì¡°í•­"></button>

  <script>
    /* ====== ì„¤ì •(ì—°í‰ê·  ê°€ì •) + ë©”íƒ€(ì¶œì²˜/ì •í™•ë„/ì¡´ì¬ì—°ë„) ====== */
    const CONFIG = {
      INFLATION_RATE: 0.017,   // í•œêµ­ CPI ì¶”ì •(ì—°í‰ê· )
      DEPOSIT_RATE:   0.035,   // ê¸ˆê°ì› í‰ê·  ì •ê¸°ì˜ˆê¸ˆ
      AVG_RETURNS: {
        gold:        0.082,    // KRX ê¸ˆ ì‹œì„¸(ì—°í‰ê·  ì¶”ì •)
        realestate:  0.040,    // KB ì£¼íƒê°€ê²©ì§€ìˆ˜ í‰ê· 
        kospi:       0.062,    // KOSPI ì¥ê¸° í‰ê· 
        kosdaq:      0.070,    // KOSDAQ ì¥ê¸° í‰ê· 
        sp500:       0.098,    // S&P 500 ì¥ê¸° í‰ê· 
        qqq:         0.130,    // NASDAQ-100 ì¥ê¸° í‰ê· 
        stock:       0.120,    // ì‚¬ìš©ìê°€ ì¶”ê°€í•˜ëŠ” ì„ì˜ í‹°ì»¤ í‰ê· 
        bitcoin:     0.485,    // BTC ì¥ê¸° í‰ê· (ë†’ì€ ë³€ë™ì„±)
        ethereum:    0.410     // ETH ì¥ê¸° í‰ê· (ë†’ì€ ë³€ë™ì„±)
      }
    };

    // ìì‚° ë©”íƒ€: ì¡´ì¬ì—°ë„, ì¶œì²˜, ì •í™•ë„
    const ASSET_META = {
      inflation: { startYear: 1953, source:"í•œêµ­ CPI (ìš”ì•½)", accuracy:"Â±0.1%" },
      deposit:   { startYear: 1980, source:"ê¸ˆê°ì› ì˜ˆê¸ˆê¸ˆë¦¬(í‰ê· )", accuracy:"Â±0.2%" },
      gold:      { startYear: 1985, source:"KRX ê¸ˆ ì‹œì„¸(ìš”ì•½)", accuracy:"Â±0.2%" },
      realestate:{ startYear: 1990, source:"KB ì£¼íƒê°€ê²©ì§€ìˆ˜(í‰ê· )", accuracy:"Â±0.5%" },
      kospi:     { startYear: 1980, source:"KRX (ì¥ê¸° í‰ê· )", accuracy:"Â±0.3%" },
      kosdaq:    { startYear: 1996, source:"KRX (ì¥ê¸° í‰ê· )", accuracy:"Â±0.5%" },
      sp500:     { startYear: 1928, source:"S&P 500 (ì¥ê¸° í‰ê· )", accuracy:"Â±0.5%" },
      qqq:       { startYear: 1985, source:"NASDAQ-100 (ì¥ê¸° í‰ê· )", accuracy:"Â±0.7%" },
      btc:       { startYear: 2010, source:"CoinMarketCap (ìš”ì•½)", accuracy:"Â±3~5%" },
      eth:       { startYear: 2015, source:"CoinGecko (ìš”ì•½)", accuracy:"Â±4~6%" }
    };

    let realtimeCounter = 0;
    let customStocks = [];

    /* ====== ìœ í‹¸ ====== */
    const formatMoney = (won) => {
      if (won >= 100000000) return (won / 100000000).toFixed(1) + 'ì–µì›';
      if (won >= 10000)     return (won / 10000).toFixed(0) + 'ë§Œì›';
      return Math.round(won).toLocaleString() + 'ì›';
    };

    const showNotification = (message, isError=false) => {
      const n = document.createElement('div');
      n.className = 'notification' + (isError ? ' error' : '');
      n.textContent = message;
      document.body.appendChild(n);
      setTimeout(()=>{ n.style.animation='slideInNotif .3s ease reverse'; setTimeout(()=>n.remove(),300); }, 3000);
    };

    // ìƒëŒ€ê¸°ê°„ ì‹œì‘ì¼(= ì§€ê¸ˆìœ¼ë¡œë¶€í„° monthsê°œì›” ì „)ì´ ìì‚° ì¡´ì¬ì—°ë„ ì´ì „ì¸ì§€ íŒì •
    function assetExistsForWindow(key, months) {
      const meta = ASSET_META[key];
      if (!meta) return true; // ì»¤ìŠ¤í…€ í‹°ì»¤ ë“± ë©”íƒ€ê°€ ì—†ìœ¼ë©´ ì¡´ì¬í•œë‹¤ê³  ì²˜ë¦¬
      const now = new Date();
      const start = new Date(now);
      start.setMonth(now.getMonth() - months);
      const startYearFloat = start.getFullYear() + (start.getMonth()+1)/12;
      return startYearFloat >= meta.startYear; // ì‹œì‘ ì‹œì ì´ ì¡´ì¬ì—°ë„ ì´ìƒì´ë©´ ì¡´ì¬
    }

    /* ====== ëª¨ë‹¬(ë©´ì±…ì¡°í•­) ====== */
    const showDisclaimerModal = () => {
      const overlay = document.createElement('div');
      overlay.className = 'modal-overlay';
      overlay.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">âš ï¸ ë©´ì±… ì¡°í•­ (Disclaimer)</div>
          <div class="modal-body">
            <p><strong>ğŸ“Š ë°ì´í„° ì •í™•ì„±:</strong> ë³¸ í˜ì´ì§€ëŠ” <strong>ê³µì‹ í†µê³„ ìš”ì•½ ë° ì—­ì‚¬ì  í‰ê· </strong>ì— ê¸°ë°˜í•œ ì°¸ê³ ìš© ê³„ì‚°ê¸°ì…ë‹ˆë‹¤.</p>
            <p><strong>ğŸ’¡ íˆ¬ì ì¡°ì–¸ ì•„ë‹˜:</strong> êµìœ¡/ì •ë³´ ì œê³µ ëª©ì ì´ë©°, ë§¤ìˆ˜/ë§¤ë„ ê¶Œìœ ê°€ ì•„ë‹™ë‹ˆë‹¤.</p>
            <p><strong>âš ï¸ ì†ì‹¤ ì±…ì„:</strong> ëª¨ë“  íˆ¬ìì—ëŠ” ì›ê¸ˆ ì†ì‹¤ ìœ„í—˜ì´ ìˆìŠµë‹ˆë‹¤. ê³¼ê±°ì˜ ìˆ˜ìµë¥ ì´ ë¯¸ë˜ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
            <p><strong>ğŸ” ì¶œì²˜Â·ì •í™•ë„:</strong> ê° ì¹´ë“œ í•˜ë‹¨ì˜ ì¶œì²˜/ì •í™•ë„ë¥¼ ì°¸ê³ í•˜ì„¸ìš”. ì•”í˜¸í™”íëŠ” ë³€ë™ì„±ìœ¼ë¡œ ì¸í•´ ì˜¤ì°¨ê°€ í½ë‹ˆë‹¤.</p>
            <p style="margin-top:15px; font-size:.9em; opacity:.8;"><strong>By using this calculator, you acknowledge that you have read and understood this disclaimer.</strong></p>
          </div>
          <div class="modal-footer">
            <button class="modal-btn modal-btn-secondary" id="modalDontShow">ë‹¤ì‹œ ë³´ì§€ ì•Šê¸°</button>
            <button class="modal-btn modal-btn-primary" id="modalClose">í™•ì¸</button>
          </div>
        </div>`;
      document.body.appendChild(overlay);
      overlay.querySelector('#modalClose').onclick = () => { overlay.style.animation='fadeIn .3s ease reverse'; setTimeout(()=>overlay.remove(),300); };
      overlay.querySelector('#modalDontShow').onclick = () => {
        localStorage.setItem('dontShowDisclaimer','true');
        overlay.style.animation='fadeIn .3s ease reverse'; setTimeout(()=>overlay.remove(),300);
        showNotification('âœ… ë‹¤ì‹œ í‘œì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤');
      };
      overlay.addEventListener('click', (e)=>{ if (e.target === overlay){ overlay.style.animation='fadeIn .3s ease reverse'; setTimeout(()=>overlay.remove(),300); } });
    };

    /* ====== ë°ì´í„° ê³„ì‚° ====== */
    const calculateInflation = (months) => {
      const years = months / 12;
      const multiplier = 1 / Math.pow(1 + CONFIG.INFLATION_RATE, years); // ë¬¼ê°€ìƒìŠ¹ â†’ êµ¬ë§¤ë ¥ í•˜ë½
      return { multiplier, change: (multiplier - 1) * 100 };
    };
    const calculateDeposit = (months) => {
      const years = months / 12;
      const multiplier = Math.pow(1 + CONFIG.DEPOSIT_RATE, years);
      return { multiplier, change: (multiplier - 1) * 100 };
    };
    const calculateGeneric = (months, avgReturn) => {
      const years = months / 12;
      const multiplier = Math.pow(1 + avgReturn, years);
      return { multiplier, change: (multiplier - 1) * 100 };
    };

    const fetchHistoricalData = (months) => {
      const results = {
        inflation:  calculateInflation(months),
        deposit:    calculateDeposit(months),
        gold:       calculateGeneric(months, CONFIG.AVG_RETURNS.gold),
        realestate: calculateGeneric(months, CONFIG.AVG_RETURNS.realestate),
        kospi:      calculateGeneric(months, CONFIG.AVG_RETURNS.kospi),
        kosdaq:     calculateGeneric(months, CONFIG.AVG_RETURNS.kosdaq),
        sp500:      calculateGeneric(months, CONFIG.AVG_RETURNS.sp500),
        qqq:        calculateGeneric(months, CONFIG.AVG_RETURNS.qqq),
        btc:        calculateGeneric(months, CONFIG.AVG_RETURNS.bitcoin),
        eth:        calculateGeneric(months, CONFIG.AVG_RETURNS.ethereum)
      };
      for (const ticker of customStocks) {
        results[ticker] = calculateGeneric(months, CONFIG.AVG_RETURNS.stock);
      }
      return results;
    };

    /* ====== ì£¼ì‹ í‹°ì»¤ ì¶”ê°€ ====== */
    const addStock = () => {
      const ticker = document.getElementById('stockTicker').value.toUpperCase().trim();
      if (!ticker) return showNotification('í‹°ì»¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”', true);
      if (!/^[A-Z]{1,5}$/.test(ticker)) return showNotification('ì˜¬ë°”ë¥¸ í‹°ì»¤ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: AAPL, TSLA)', true);
      if (customStocks.includes(ticker)) return showNotification('ì´ë¯¸ ì¶”ê°€ëœ í‹°ì»¤ì…ë‹ˆë‹¤', true);
      customStocks.push(ticker);
      document.getElementById('stockTicker').value = '';
      showNotification(`${ticker} ì¶”ê°€ë¨`);
      updateCalculation();
    };

    /* ====== ì¹´ë“œ ë Œë”ë§ ====== */
    const getEmoji = (key) => ({ inflation:'ğŸ’¸', deposit:'ğŸ¦', gold:'ğŸ’°', realestate:'ğŸ ', kospi:'ğŸ“Š', kosdaq:'ğŸ“ˆ', sp500:'ğŸ“ˆ', qqq:'ğŸ’»', btc:'â‚¿', eth:'âŸ ', stock:'ğŸ“Š' }[key] || 'ğŸ“ˆ');
    const titleMap = { inflation:'ë¬¼ê°€ìƒìŠ¹ (í˜„ê¸ˆ)', deposit:'ì •ê¸°ì˜ˆê¸ˆ', gold:'ê¸ˆ (Gold)', realestate:'ì„œìš¸ ì•„íŒŒíŠ¸', kospi:'KOSPI', kosdaq:'KOSDAQ', sp500:'S&P 500 (SPY)', qqq:'ë‚˜ìŠ¤ë‹¥ 100 (QQQ)', btc:'ë¹„íŠ¸ì½”ì¸', eth:'ì´ë”ë¦¬ì›€' };

    const createCard = (key, title, typeClass, data, wonAmount, months, dataSourceLabel='í‰ê· ') => {
      // ì¡´ì¬ ì—¬ë¶€ íŒë‹¨ (ìƒëŒ€ê¸°ê°„ ì‹œì‘ì¼ ê¸°ì¤€)
      const exists = assetExistsForWindow(key, months);
      const change = exists ? data.change : null;
      const value = exists ? wonAmount * data.multiplier : null;
      const profit = exists ? wonAmount * (data.multiplier - 1) : null;

      const meta = ASSET_META[key] || { source:'í‰ê· ê°’', accuracy:'Â±N/A' };
      const badge = `<div class="data-source-badge">${exists ? 'âœ”ï¸' : 'âŒ'}</div>`;
      const extraDetail = exists
        ? `ì¶œì²˜: ${meta.source} / ì •í™•ë„: ${meta.accuracy}`
        : `í•´ë‹¹ ìì‚°ì€ <strong>${meta.startYear || 'â€”'}ë…„</strong> ì´í›„ë¶€í„° ì¡´ì¬í•©ë‹ˆë‹¤`;

      return `
        <div class="money-card ${typeClass} ${exists ? '' : 'na'}">
          ${badge}
          <div class="card-title">${getEmoji(key)} ${title}</div>
          <div class="card-value ${exists ? (change>=0 ? 'positive' : 'negative') : ''}">
            ${exists ? formatMoney(value) : 'ì¡´ì¬í•˜ì§€ ì•ŠìŒ'}
          </div>
          <div class="card-change ${exists ? (change>=0 ? 'positive' : 'negative') : ''}">
            ${exists ? ((change>=0?'+':'') + change.toFixed(2) + '%') : 'â€”'}
          </div>
          <div class="card-detail">${exists ? ( (change>=0 ? 'ìˆ˜ìµ' : 'ì†ì‹¤') + ': ' + formatMoney(Math.abs(profit)) ) : ''}</div>
          <div class="card-detail" style="margin-top:8px;">${extraDetail}</div>
        </div>
      `;
    };

    const displayResults = (amount, months, data) => {
      const wonAmount = amount * 10000;
      let cardsHTML = '';

      cardsHTML += createCard('inflation',  titleMap.inflation,  'inflation',  data.inflation,  wonAmount, months, 'í•œêµ­ CPI');
      cardsHTML += createCard('deposit',    titleMap.deposit,    'deposit',    data.deposit,    wonAmount, months, 'ê¸ˆê°ì› í‰ê· ');
      cardsHTML += createCard('gold',       titleMap.gold,       'gold',       data.gold,       wonAmount, months);
      cardsHTML += createCard('realestate', titleMap.realestate, 'realestate', data.realestate, wonAmount, months);
      cardsHTML += createCard('kospi',      titleMap.kospi,      'kospi',      data.kospi,      wonAmount, months);
      cardsHTML += createCard('kosdaq',     titleMap.kosdaq,     'kosdaq',     data.kosdaq,     wonAmount, months);
      cardsHTML += createCard('sp500',      titleMap.sp500,      'sp500',      data.sp500,      wonAmount, months);
      cardsHTML += createCard('qqq',        titleMap.qqq,        'qqq',        data.qqq,        wonAmount, months);

      for (const ticker of customStocks) {
        if (data[ticker]) {
          // ì»¤ìŠ¤í…€ í‹°ì»¤ëŠ” í‰ê·  ë©”íƒ€ë§Œ í‘œì‹œ
          cardsHTML += createCard('stock', ticker, 'stock', data[ticker], wonAmount, months, 'í‰ê· ');
        }
      }

      cardsHTML += createCard('btc', titleMap.btc, 'btc', data.btc, wonAmount, months);
      cardsHTML += createCard('eth', titleMap.eth, 'eth', data.eth, wonAmount, months);

      document.getElementById('comparisonGrid').innerHTML = cardsHTML;

      // ì„¤ëª… í…ìŠ¤íŠ¸ (ìƒëŒ€ê¸°ê°„ ë¬¸êµ¬)
      const years = Math.floor(months / 12);
      const remainingMonths = months % 12;
      let timeText = years > 0 ? `${years}ë…„` : '';
      if (remainingMonths > 0) timeText += ` ${remainingMonths}ê°œì›”`;
      const timeTextFull = (timeText || '0ê°œì›”') + ' ì „';

      document.getElementById('explanationText').innerHTML = `
        <strong>${timeText} ì „ ${formatMoney(wonAmount)}</strong>ì„ í˜„ê¸ˆìœ¼ë¡œë§Œ ë³´ìœ í–ˆë‹¤ë©´,
        ë¬¼ê°€ìƒìŠ¹ìœ¼ë¡œ <strong>${formatMoney(wonAmount * data.inflation.multiplier)}</strong>ì˜
        êµ¬ë§¤ë ¥ìœ¼ë¡œ ê°ì†Œí•©ë‹ˆë‹¤.<br><br>
        ê°™ì€ ê¸°ê°„ <strong>S&P 500</strong>ì— íˆ¬ìí–ˆë‹¤ë©´ ì•½ <strong>${formatMoney(wonAmount * data.sp500.multiplier)}</strong>,
        <strong>ë¹„íŠ¸ì½”ì¸</strong>ì€ ${assetExistsForWindow('btc', months) ? `<strong>${formatMoney(wonAmount * data.btc.multiplier)}</strong>` : '<strong>ì¡´ì¬í•˜ì§€ ì•ŠìŒ</strong>'}
        ìˆ˜ì¤€ì´ì—ˆì„ ê²ƒìœ¼ë¡œ ì¶”ì •ë©ë‹ˆë‹¤. (ì—­ì‚¬ì  í‰ê·  ê°€ì •)
      `;

      // ì‹¤ì‹œê°„ ì¹´ìš´í„°(ë¬¼ê°€ë¡œ ì¸í•œ êµ¬ë§¤ë ¥ í•˜ë½ì˜ ì‹œê°í™”)
      const dailyLoss = (wonAmount * (1 - data.inflation.multiplier)) / (months * 30);
      const secondlyLoss = dailyLoss / 86400;
      const minuteLoss = secondlyLoss * 60;
      const hourLoss = minuteLoss * 60;

      document.getElementById('perSecond').textContent = Math.round(secondlyLoss).toLocaleString() + 'ì›';
      document.getElementById('perMinute').textContent = Math.round(minuteLoss).toLocaleString() + 'ì›';
      document.getElementById('perHour').textContent   = Math.round(hourLoss).toLocaleString() + 'ì›';
      document.getElementById('perDay').textContent    = Math.round(dailyLoss).toLocaleString() + 'ì›';

      clearInterval(window.realtimeInterval);
      realtimeCounter = 0;
      window.realtimeInterval = setInterval(() => {
        realtimeCounter += secondlyLoss;
        document.getElementById('realtimeCounter').textContent = Math.round(realtimeCounter).toLocaleString() + 'ì›';
      }, 1000);

      // ìŠ¬ë¼ì´ë” ë¼ë²¨ ì—…ë°ì´íŠ¸
      document.getElementById('timeDisplay').textContent = `${timeTextFull}`;
    };

    /* ====== ê³„ì‚° ì—…ë°ì´íŠ¸ ====== */
    const updateAmountDisplay = () => {
      const amount = parseFloat(document.getElementById('amount').value || '0');
      document.getElementById('amountDisplay').textContent = formatMoney(amount * 10000);
    };
    const updateCalculation = () => {
      const amount = parseFloat(document.getElementById('amount').value || '0');
      const months = parseInt(document.getElementById('months').value || '1', 10);
      updateAmountDisplay();
      const data = fetchHistoricalData(months);
      displayResults(amount, months, data);
    };

    /* ====== FAQ í† ê¸€ ====== */
    const toggleFAQ = () => {
      const content = document.getElementById('faqContent');
      const arrow = document.getElementById('faqArrow');
      if (content.classList.contains('open')) { content.classList.remove('open'); arrow.classList.remove('open'); }
      else { content.classList.add('open'); arrow.classList.add('open'); }
    };

    /* ====== ë‹¤í¬ëª¨ë“œ ====== */
    const toggleDarkMode = () => {
      document.body.classList.toggle('dark-mode');
      const isDark = document.body.classList.contains('dark-mode');
      document.getElementById('darkModeToggle').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
      localStorage.setItem('darkMode', isDark);
      showNotification(isDark ? 'ğŸŒ™ ë‹¤í¬ëª¨ë“œ í™œì„±í™”' : 'â˜€ï¸ ë¼ì´íŠ¸ëª¨ë“œ í™œì„±í™”');
    };

    /* ====== ë°ì´í„° ì¶œì²˜ ë³´ê¸°(ğŸ“Š) ====== */
    const showSourcesModal = () => {
      const overlay = document.createElement('div');
      overlay.className = 'modal-overlay';
      overlay.innerHTML = `
        <div class="modal-content">
          <div class="modal-header">ğŸ“Š ë°ì´í„° ì¶œì²˜ ë° ì •í™•ë„</div>
          <div class="modal-body">
            ${Object.entries(ASSET_META).map(([k,v]) => `
              <p><strong>${(titleMap[k] || k).toUpperCase()}</strong><br>
              ì¶œì²˜: ${v.source}<br>
              ì •í™•ë„: ${v.accuracy}<br>
              ë°ì´í„° ì‹œì‘ ì‹œì : ${v.startYear}ë…„</p>
            `).join('')}
            <p style="margin-top:10px; font-size:.9em; opacity:.85;">
              â€» ë³¸ ê³„ì‚°ê¸°ëŠ” <strong>ì—­ì‚¬ì  í‰ê·  ìˆ˜ìµë¥ </strong>ì„ ì‚¬ìš©í•˜ë©°, ì‹¤ì œ ìˆ˜ìµë¥ ì€ ì‹œì ê³¼ ë³€ë™ì„±ì— ë”°ë¼ í¬ê²Œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
          </div>
          <div class="modal-footer">
            <button class="modal-btn modal-btn-primary" id="srcClose">í™•ì¸</button>
          </div>
        </div>`;
      document.body.appendChild(overlay);
      overlay.querySelector('#srcClose').onclick = () => { overlay.style.animation='fadeIn .3s ease reverse'; setTimeout(()=>overlay.remove(),300); };
      overlay.addEventListener('click', (e)=>{ if(e.target===overlay){ overlay.style.animation='fadeIn .3s ease reverse'; setTimeout(()=>overlay.remove(),300); } });
    };

    /* ====== ì´ë²¤íŠ¸ ====== */
    document.getElementById('amount').addEventListener('input', updateCalculation);
    document.getElementById('months').addEventListener('input', updateCalculation);
    document.getElementById('amount').addEventListener('input', updateAmountDisplay);
    document.getElementById('floatingHelp').addEventListener('click', showDisclaimerModal);
    document.getElementById('darkModeToggle').addEventListener('click', toggleDarkMode);
    document.getElementById('sourcesToggle').addEventListener('click', showSourcesModal);

    document.getElementById('stockTicker').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') addStock();
    });

    /* ====== ì´ˆê¸°í™” ====== */
    const init = () => {
      const savedDarkMode = localStorage.getItem('darkMode') === 'true';
      if (savedDarkMode) { document.body.classList.add('dark-mode'); document.getElementById('darkModeToggle').textContent = 'â˜€ï¸'; }

      if (!localStorage.getItem('dontShowDisclaimer')) setTimeout(showDisclaimerModal, 800);
      updateCalculation();
    };
    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
    else init();
  </script>
</body>
</html>
